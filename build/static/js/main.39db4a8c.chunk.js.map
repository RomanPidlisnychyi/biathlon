{"version":3,"sources":["components/ResaultsTable/TableBodyItem/TableBodyItem.module.css","components/ResaultsTable/ResaultsTable.module.css","store/actions/raceActions.js","store/reducers/raceReducer.js","store/actions/filterActions.js","store/reducers/filterReducer.js","store/index.js","store/selectors/filterSelectors.js","components/ResaultsTable/TableHeadItem/TableHeadItem.js","components/ResaultsTable/TableBodyItem/TableBodyItem.js","store/selectors/raceSelectors.js","components/ResaultsTable/ResaultsTable.js","utils/prepearHeadTable.js","utils/participants.js","utils/result.js","utils/apiUtils.js","components/App.js","store/operation/raceOperation.js","index.js","components/ResaultsTable/TableHeadItem/TableHeadItem.module.css"],"names":["module","exports","createRaceResult","createAction","races","createReducer","_","payload","setFilter","filter","store","configureStore","reducer","getFilter","state","TableHeadItem","newTitle","title","dispatch","useDispatch","useSelector","className","styles","button","active","type","onClick","TableBodyItem","race","index","country","name","lie","stand","general","speed","getFilteredRaces","createSelector","map","parseFloat","toFixed","filteredRaces","sort","a","b","nameA","toUpperCase","nameB","countryA","countryB","ResaultsTable","titles","headTable","length","Object","keys","prepearHeadTable","table","participants","getRandomArbitrary","min","max","Math","random","getRace","participant","App","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.39db4a8c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Austria\":\"TableBodyItem_Austria__Te7VC\",\"Ukraine\":\"TableBodyItem_Ukraine__2Aew1 TableBodyItem_Austria__Te7VC\",\"Norway\":\"TableBodyItem_Norway__3aWUF TableBodyItem_Austria__Te7VC\",\"Belarus\":\"TableBodyItem_Belarus__2IuE4 TableBodyItem_Austria__Te7VC\",\"Slovenia\":\"TableBodyItem_Slovenia__18tDH TableBodyItem_Austria__Te7VC\",\"Russia\":\"TableBodyItem_Russia__tJWii TableBodyItem_Austria__Te7VC\",\"Germany\":\"TableBodyItem_Germany__2ec8s TableBodyItem_Austria__Te7VC\",\"Sweden\":\"TableBodyItem_Sweden__O8LAC TableBodyItem_Austria__Te7VC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"ResaultsTable_table__1-GFZ\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const createRaceResult = createAction('CREATE_RACE_RESULT');\n","import { createReducer } from '@reduxjs/toolkit';\nimport { createRaceResult } from '../actions/raceActions';\n\nexport const races = createReducer([], {\n  [createRaceResult]: (_, { payload }) => payload,\n});\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const setFilter = createAction('SET_FILTER');\n","import { createReducer } from '@reduxjs/toolkit';\nimport { setFilter } from '../actions/filterActions';\n\nexport const filter = createReducer('', {\n  [setFilter]: (_, { payload }) => payload,\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport { races } from './reducers/raceReducer';\nimport { filter } from './reducers/filterReducer';\n\nconst store = configureStore({\n  reducer: { races, filter },\n});\n\nexport default store;\n","export const getFilter = state => state.filter;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { setFilter } from '../../../store/actions/filterActions';\nimport { getFilter } from '../../../store/selectors/filterSelectors';\nimport styles from './TableHeadItem.module.css';\n\nexport default function TableHeadItem({ title }) {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  let newTitle;\n\n  if (title === 'lie' || title === 'stand' || title === 'general') {\n    newTitle = `${title} %`;\n  }\n\n  if (title === 'speed') {\n    newTitle = `${title} s.`;\n  }\n\n  const handleBtn = () => {\n    if (filter === title) {\n      return;\n    }\n    dispatch(setFilter(title));\n  };\n\n  return (\n    <th>\n      <button\n        className={\n          title === filter ? `${styles.button} ${styles.active}` : styles.button\n        }\n        type=\"button\"\n        onClick={handleBtn}\n      >\n        {newTitle ? newTitle : title}\n      </button>\n    </th>\n  );\n}\n","import styles from './TableBodyItem.module.css';\n\nexport default function TableBodyItem({ race, index }) {\n  const { country, name, lie, stand, general, speed } = race;\n  return (\n    <tr>\n      <td>{index + 1}</td>\n      <td className={styles[country]} />\n      <td>{name}</td>\n      <td>{lie}</td>\n      <td>{stand}</td>\n      <td>{general}</td>\n      <td>{speed}</td>\n    </tr>\n  );\n}\n","import { createSelector } from '@reduxjs/toolkit';\nimport { getFilter } from './filterSelectors';\n\nexport const getRaces = state =>\n  state.races.map(race => ({\n    ...race,\n    general: +parseFloat((race.lie + race.stand) / 2).toFixed(2),\n  }));\n\nexport const getFilteredRaces = createSelector(\n  getRaces,\n  getFilter,\n  (races, filter) => {\n    const filteredRaces = [...races];\n    if (filter === 'name') {\n      return filteredRaces.sort(function (a, b) {\n        const nameA = a.name.toUpperCase();\n        const nameB = b.name.toUpperCase();\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n    if (filter === 'country') {\n      return filteredRaces.sort(function (a, b) {\n        const countryA = a.country.toUpperCase();\n        const countryB = b.country.toUpperCase();\n        if (countryA < countryB) {\n          return -1;\n        }\n        if (countryA > countryB) {\n          return 1;\n        }\n\n        return 0;\n      });\n    }\n    if (filter === 'speed') {\n      return filteredRaces.sort((a, b) => a[filter] - b[filter]);\n    }\n    return filteredRaces.sort((a, b) => b[filter] - a[filter]);\n  }\n);\n","import { useSelector } from 'react-redux';\nimport TableHeadItem from './TableHeadItem/TableHeadItem';\nimport TableBodyItem from './TableBodyItem/TableBodyItem';\nimport { getFilteredRaces } from '../../store/selectors/raceSelectors';\nimport { prepearHeadTable } from '../../utils/prepearHeadTable';\nimport styles from './ResaultsTable.module.css';\n\nexport default function ResaultsTable() {\n  const races = useSelector(getFilteredRaces);\n  const titles = prepearHeadTable(races);\n  return (\n    races &&\n    races.length && (\n      <table className={styles.table}>\n        <thead>\n          <tr>\n            <th>#</th>\n            {titles.map(title => (\n              <TableHeadItem key={title} title={title} />\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {races.map((race, index) => (\n            <TableBodyItem key={race.name} race={race} index={index} />\n          ))}\n        </tbody>\n      </table>\n    )\n  );\n}\n","export const prepearHeadTable = races => {\n  let headTable;\n  if (races && races.length) {\n    headTable = Object.keys(races[0]);\n  }\n  return headTable;\n};\n","export const participants = [\r\n  { country: 'Austria', name: 'EDER Simon' },\r\n  { country: 'Ukraine', name: 'TISHCHENKO Artem' },\r\n  { country: 'Norway', name: 'LAEGREID Sturla Holm' },\r\n  { country: 'Belarus', name: 'LABASTAU Mikita' },\r\n  { country: 'Slovenia', name: 'FAK Jakov' },\r\n  { country: 'Austria', name: 'KOMATZ David' },\r\n  { country: 'Russia', name: 'ELISEEV Matvey' },\r\n  { country: 'Norway', name: 'BJOENTEGAARD Erlend' },\r\n  { country: 'Germany', name: 'PEIFFER Arnd' },\r\n  { country: 'Sweden', name: 'SAMUELSSON Sebastian' },\r\n];\r\n","export const result = participants =>\r\n  participants.map(participant => ({\r\n    ...participant,\r\n    lie: +parseFloat(getRandomArbitrary(85, 95)).toFixed(2),\r\n    stand: +parseFloat(getRandomArbitrary(80, 95)).toFixed(2),\r\n    general: null,\r\n    speed: +parseFloat(getRandomArbitrary(25, 30)).toFixed(2),\r\n  }));\r\n\r\nfunction getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n","import { participants } from './participants';\nimport { result } from './result';\n\nexport const getRace = () => result(participants);\n","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport ResaultsTable from './ResaultsTable/ResaultsTable';\r\nimport { onRace } from '../store/operation/raceOperation';\r\nimport { setFilter } from '../store/actions/filterActions';\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(setFilter('general'));\r\n    dispatch(onRace());\r\n  }, [dispatch]);\r\n  return <ResaultsTable />;\r\n}\r\n","import { createRaceResult } from '../actions/raceActions';\nimport { getRace } from '../../utils/apiUtils';\n\nexport const onRace = () => dispatch => {\n  const race = getRace();\n  dispatch(createRaceResult(race));\n};\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"TableHeadItem_button__1bE-v\",\"active\":\"TableHeadItem_active__2fEjH\"};"],"sourceRoot":""}